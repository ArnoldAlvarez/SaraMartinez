<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Baile de Memoria - Payasita vs Camaraman</title>
<style>
body {
  background: linear-gradient(180deg, #ff8c00, #ff0066);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  font-family: sans-serif;
  color: #fff;
}

h1 {
  margin-bottom: 20px;
}

.game {
  display: flex;
  gap: 100px;
  align-items: flex-end;
}

.character {
  width: 120px;
  height: 200px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
}

.character .body {
  width: 80px;
  height: 150px;
  border-radius: 20px;
  background-color: yellow;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2em;
  transition: transform 0.3s;
}

.character .head {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background-color: pink;
  margin-bottom: 10px;
  transition: transform 0.3s;
}

.dance {
  transform: translateY(-20px) rotate(-5deg);
}

.shake {
  transform: rotate(20deg);
}

.controls {
  margin-top: 20px;
}

p {
  font-size: 18px;
}
</style>
</head>
<body>

<h1>Baile de Memoria</h1>

<div class="game">
  <div class="character" id="payasita">
    <div class="head" id="payasita-head"></div>
    <div class="body">ðŸ¤¡</div>
  </div>

  <div class="character" id="camaraman">
    <div class="head" id="camaraman-head"></div>
    <div class="body">ðŸ“¹</div>
  </div>
</div>

<div class="controls">
  <p>Presiona las teclas: A S D F</p>
</div>

<script>
const moves = ['A', 'S', 'D', 'F'];
let sequence = [];
let userInput = [];
const maxSteps = 20;

const payasitaHead = document.getElementById('payasita-head');
const camaramanBody = document.querySelector('#camaraman .body');

function nextRound() {
  userInput = [];
  if(sequence.length < maxSteps) {
    sequence.push(moves[Math.floor(Math.random() * moves.length)]);
  }
  playSequence();
}

function playSequence() {
  let i = 0;
  const interval = setInterval(() => {
    // Payasita baila
    payasitaHead.classList.add('dance');
    setTimeout(() => payasitaHead.classList.remove('dance'), 400);
    i++;
    if(i >= sequence.length) clearInterval(interval);
  }, 700);
}

document.addEventListener('keydown', (e) => {
  const key = e.key.toUpperCase();
  if(!moves.includes(key)) return;

  // Camaraman imita
  camaramanBody.classList.add('dance');
  setTimeout(() => camaramanBody.classList.remove('dance'), 400);

  userInput.push(key);

  // Verificar error
  if(userInput[userInput.length-1] !== sequence[userInput.length-1]) {
    // Payasita niega con la cabeza
    payasitaHead.classList.add('shake');
    setTimeout(() => payasitaHead.classList.remove('shake'), 400);
    setTimeout(() => nextRound(), 1000); // reinicia con patrÃ³n actual
  } else if(userInput.length === sequence.length) {
    // AcertÃ³ toda la secuencia
    // CelebraciÃ³n simple: ambos saltan
    payasitaHead.classList.add('dance');
    camaramanBody.classList.add('dance');
    setTimeout(() => {
      payasitaHead.classList.remove('dance');
      camaramanBody.classList.remove('dance');
      nextRound();
    }, 600);
  }
});

// Iniciar juego
nextRound();
</script>

</body>
</html>